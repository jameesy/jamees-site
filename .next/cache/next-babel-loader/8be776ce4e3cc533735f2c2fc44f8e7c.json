{"ast":null,"code":"import rpc from './rpc';\nexport default function queryCollection({\n  collectionId,\n  collectionViewId,\n  loader = {},\n  query = {}\n}) {\n  const {\n    limit = 999,\n    // TODO: figure out Notion's way of handling pagination\n    loadContentCover = true,\n    type = 'table',\n    userLocale = 'en',\n    userTimeZone = 'America/Phoenix'\n  } = loader;\n  const {\n    aggregate = [{\n      aggregation_type: 'count',\n      id: 'count',\n      property: 'title',\n      type: 'title',\n      view_type: 'table'\n    }],\n    filter = [],\n    filter_operator = 'and',\n    sort = []\n  } = query;\n  return rpc('queryCollection', {\n    collectionId,\n    collectionViewId,\n    loader: {\n      limit,\n      loadContentCover,\n      type,\n      userLocale,\n      userTimeZone\n    },\n    query: {\n      aggregate,\n      filter,\n      filter_operator,\n      sort\n    }\n  });\n}","map":{"version":3,"sources":["/Users/jamesbedford/Documents/GitHub/jamees-site/src/lib/notion/queryCollection.ts"],"names":["rpc","queryCollection","collectionId","collectionViewId","loader","query","limit","loadContentCover","type","userLocale","userTimeZone","aggregate","aggregation_type","id","property","view_type","filter","filter_operator","sort"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,OAAhB;AAEA,eAAe,SAASC,eAAT,CAAyB;AACtCC,EAAAA,YADsC;AAEtCC,EAAAA,gBAFsC;AAGtCC,EAAAA,MAAM,GAAG,EAH6B;AAItCC,EAAAA,KAAK,GAAG;AAJ8B,CAAzB,EAKP;AACN,QAAM;AACJC,IAAAA,KAAK,GAAG,GADJ;AACS;AACbC,IAAAA,gBAAgB,GAAG,IAFf;AAGJC,IAAAA,IAAI,GAAG,OAHH;AAIJC,IAAAA,UAAU,GAAG,IAJT;AAKJC,IAAAA,YAAY,GAAG;AALX,MAMFN,MANJ;AAQA,QAAM;AACJO,IAAAA,SAAS,GAAG,CACV;AACEC,MAAAA,gBAAgB,EAAE,OADpB;AAEEC,MAAAA,EAAE,EAAE,OAFN;AAGEC,MAAAA,QAAQ,EAAE,OAHZ;AAIEN,MAAAA,IAAI,EAAE,OAJR;AAKEO,MAAAA,SAAS,EAAE;AALb,KADU,CADR;AAUJC,IAAAA,MAAM,GAAG,EAVL;AAWJC,IAAAA,eAAe,GAAG,KAXd;AAYJC,IAAAA,IAAI,GAAG;AAZH,MAaFb,KAbJ;AAeA,SAAOL,GAAG,CAAC,iBAAD,EAAoB;AAC5BE,IAAAA,YAD4B;AAE5BC,IAAAA,gBAF4B;AAG5BC,IAAAA,MAAM,EAAE;AACNE,MAAAA,KADM;AAENC,MAAAA,gBAFM;AAGNC,MAAAA,IAHM;AAINC,MAAAA,UAJM;AAKNC,MAAAA;AALM,KAHoB;AAU5BL,IAAAA,KAAK,EAAE;AACLM,MAAAA,SADK;AAELK,MAAAA,MAFK;AAGLC,MAAAA,eAHK;AAILC,MAAAA;AAJK;AAVqB,GAApB,CAAV;AAiBD","sourcesContent":["import rpc from './rpc'\n\nexport default function queryCollection({\n  collectionId,\n  collectionViewId,\n  loader = {},\n  query = {},\n}: any) {\n  const {\n    limit = 999, // TODO: figure out Notion's way of handling pagination\n    loadContentCover = true,\n    type = 'table',\n    userLocale = 'en',\n    userTimeZone = 'America/Phoenix',\n  } = loader\n\n  const {\n    aggregate = [\n      {\n        aggregation_type: 'count',\n        id: 'count',\n        property: 'title',\n        type: 'title',\n        view_type: 'table',\n      },\n    ],\n    filter = [],\n    filter_operator = 'and',\n    sort = [],\n  } = query\n\n  return rpc('queryCollection', {\n    collectionId,\n    collectionViewId,\n    loader: {\n      limit,\n      loadContentCover,\n      type,\n      userLocale,\n      userTimeZone,\n    },\n    query: {\n      aggregate,\n      filter,\n      filter_operator,\n      sort,\n    },\n  })\n}\n"]},"metadata":{},"sourceType":"module"}