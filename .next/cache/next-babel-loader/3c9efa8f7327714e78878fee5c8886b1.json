{"ast":null,"code":"import { loadPageChunk } from './getPageData';\nimport { values } from './rpc';\nconst nonPreviewTypes = new Set(['editor', 'page', 'collection_view']);\nexport async function getPostPreview(pageId) {\n  let blocks;\n  let dividerIndex = 0;\n  const data = await loadPageChunk({\n    pageId,\n    limit: 10\n  });\n  blocks = values(data.recordMap.block);\n\n  for (let i = 0; i < blocks.length; i++) {\n    if (blocks[i].value.type === 'divider') {\n      dividerIndex = i;\n      break;\n    }\n  }\n\n  blocks = blocks.splice(0, dividerIndex).filter(({\n    value: {\n      type,\n      properties\n    }\n  }) => !nonPreviewTypes.has(type) && properties).map(block => block.value.properties.title);\n  return blocks;\n}","map":null,"metadata":{},"sourceType":"module"}